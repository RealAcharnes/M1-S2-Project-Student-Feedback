(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{213:function(e,t,n){},214:function(e,t,n){},428:function(e,t,n){},429:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n.n(s),a=n(13),o=n.n(a),c=n(33),r=(n(213),n(18)),l=n(19),u=n(15),d=n(29),j=n(28),b=n(20),h=(n(145),n(214),n(16)),p=n.n(h),m="https://neuroeducation-feedback.herokuapp.com/api/",O=new(function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"login",value:function(e,t){return p.a.post(m+"signin",{email:e,password:t}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,n,s,i){return p.a.post(m+"signup",{firstname:e,lastname:t,email:n,password:s,password_confirmation:i})}},{key:"verifyAccount",value:function(e){return p.a.post(m+"verifyAccount",{token:e})}},{key:"adminRegister",value:function(e,t,n,s){return p.a.post(m+"signup",{firstname:e,lastname:t,email:n,roles:s})}},{key:"changePassword",value:function(e,t,n,s){return p.a.post(m+"changePassword",{email:e,old_password:t,password:n,password_confirmation:s})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),x=n(14),f=n(47),g=n.n(f),v=n(65),z=n.n(v),q=n(463),y=n(0);function C(e){var t=e.content,n=e.float;return Object(y.jsx)(q.a,{style:{width:"100%",backgroundImage:"url(".concat("/blueBG.png",")"),maxWidth:"890px",margin:"auto",marginTop:"70px"},children:Object(y.jsx)("div",{style:{backgroundColor:"white",height:"100%",maxWidth:"480px",minWidth:"300px",float:n},children:t})})}var k=n(488),S=n(492);function N(e){return Object(y.jsx)(k.a,Object(x.a)({elevation:6,variant:"filled"},e))}var w=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).handleClose=function(){s.setState({open:!1})},s.handleLogin=s.handleLogin.bind(Object(u.a)(s)),s.onChangeEmail=s.onChangeEmail.bind(Object(u.a)(s)),s.onChangePassword=s.onChangePassword.bind(Object(u.a)(s)),s.state={email:"",password:"",loading:!1,message:""},s}return Object(l.a)(n,[{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?O.login(this.state.email,this.state.password).then((function(){t.props.history.push("/profile"),window.location.reload()}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:n,open:!0})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{className:"col-md-12",children:Object(y.jsx)("div",{children:Object(y.jsxs)(g.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)(C,{content:Object(y.jsxs)("div",{className:"formCardContent",style:{padding:"35px",paddingTop:"70px",paddingBottom:"60px"},children:[this.state.message&&Object(y.jsx)(S.a,{anchorOrigin:{vertical:"center",horizontal:"center"},open:this.state.open,autoHideDuration:6e3,onClose:function(){return e.handleClose()},children:Object(y.jsx)(N,{onClose:function(){return e.handleClose()},severity:this.state.successful?"success":"warning",children:this.state.message})}),Object(y.jsx)("h2",{style:{marginTop:"30px"},children:"Bienvenue sur la page de connexion"}),Object(y.jsx)("p",{children:"C'est g\xe9nial que tu sois de retour"}),Object(y.jsxs)("div",{style:{marginTop:"50px"},children:[Object(y.jsx)("label",{htmlFor:"email",style:{marginTop:"30px",color:"black"},children:Object(y.jsx)("strong",{children:"Email de l'utilisateur"})}),Object(y.jsx)("input",{type:"email",size:"small",onChange:this.onChangeEmail,value:this.state.email,variant:"outlined",className:"form-control",required:!0}),Object(y.jsx)("label",{htmlFor:"password",style:{marginTop:"30px",color:"black"},children:Object(y.jsx)("strong",{children:"Mot de passe"})}),Object(y.jsx)("input",{type:"password",size:"small",value:this.state.password,onChange:this.onChangePassword,variant:"outlined",fullWidth:!0,required:!0,className:"form-control"})]}),Object(y.jsx)("div",{children:Object(y.jsx)("span",{style:{width:"100%",float:"right",marginTop:"30px",marginBottom:"30px"},children:"Mot de passe oubli\xe9 ?"})}),Object(y.jsxs)("div",{style:{marginTop:"15px",width:"100%"},children:[Object(y.jsxs)("button",{className:"btnn",style:{"font-size":"12px",width:"45%"},disabled:this.state.loading,children:[this.state.loading&&Object(y.jsx)("span",{className:"spinner-border spinner-border-sm"}),"SE CONNECTER"]}),Object(y.jsx)("button",{onClick:function(){return e.props.history.push({pathname:"/register"})},className:"btnn",style:{"font-size":"12px",backgroundColor:"transparent",color:"#4257b2",border:"1px solid #4257b2",width:"45%"},children:"CREER EN COMPTE"})]})]}),float:"left"})}),Object(y.jsx)(z.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})})})}}]),n}(s.Component),_=n(45),E=n.n(_),Q=n(104);function T(e){return Object(y.jsx)(k.a,Object(x.a)({elevation:6,variant:"filled"},e))}var A=function(e){if(!e)return Object(y.jsx)(T,{severity:"warning",children:"Ce champ est obligatoire !"})},R=function(e){if(!Object(Q.isEmail)(e))return Object(y.jsx)(T,{severity:"warning",children:"Adresse email non valide."})},D=function(e){if(e.length<3||e.length>50)return Object(y.jsx)(T,{severity:"warning",children:"Le nom d'utilisateur doit contenir entre 3 et 50 charact\xe8res."})},P=function(e){if(e.length<3||e.length>50)return Object(y.jsx)(T,{severity:"warning",children:"Le nom d'utilisateur doit contenir entre 3 et 50 charact\xe8res."})},B=function(e){if(e.length<6||e.length>50)return Object(y.jsx)(T,{severity:"warning",children:"Le mot de passe doit contenir entre 6 et 50 charact\xe8res."})},L=function(e){if(e.length<6||e.length>50)return Object(y.jsx)(T,{severity:"warning",children:"Le mot de passe doit contenir entre 6 et 50 charact\xe8res."})},U=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).handleClose=function(){s.setState({open:!1})},s.handleRegister=s.handleRegister.bind(Object(u.a)(s)),s.onChangeFirstname=s.onChangeFirstname.bind(Object(u.a)(s)),s.onChangeLastname=s.onChangeLastname.bind(Object(u.a)(s)),s.onChangeEmail=s.onChangeEmail.bind(Object(u.a)(s)),s.onChangePassword=s.onChangePassword.bind(Object(u.a)(s)),s.onChangePasswordConfirmation=s.onChangePasswordConfirmation.bind(Object(u.a)(s)),s.state={lastname:"",firstname:"",email:"",password:"",password_confirmation:"",successful:!1,message:"",open:!1},s}return Object(l.a)(n,[{key:"onChangeFirstname",value:function(e){this.setState({firstname:e.target.value})}},{key:"onChangeLastname",value:function(e){this.setState({lastname:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangePasswordConfirmation",value:function(e){this.setState({password_confirmation:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&O.register(this.state.firstname,this.state.lastname,this.state.email,this.state.password,this.state.password_confirmation).then((function(e){t.setState({message:e.data.message,successful:!0,open:!0})}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:n,open:!0})}))}},{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{className:"col-md-12",children:Object(y.jsxs)("div",{children:[this.state.message&&this.state.successful&&Object(y.jsxs)("div",{children:[Object(y.jsx)(S.a,{anchorOrigin:{vertical:"center",horizontal:"center"},open:this.state.open,autoHideDuration:6e5,onClose:function(){return e.handleClose()},children:Object(y.jsx)(T,{onClose:function(){return e.handleClose()},severity:this.state.successful?"success":"warning",children:this.state.message})}),Object(y.jsx)(C,{content:Object(y.jsx)("div",{className:"formCardContent",style:{padding:"35px",paddingTop:"50px",paddingBottom:"60px",clear:"both"},children:Object(y.jsx)("p",{children:this.state.message})})})]}),Object(y.jsxs)(g.a,{ref:function(t){e.form=t},children:[!this.state.successful&&Object(y.jsx)("div",{children:Object(y.jsx)(C,{content:Object(y.jsxs)("div",{className:"formCardContent",style:{padding:"35px",paddingTop:"50px",paddingBottom:"60px",clear:"both"},children:[this.state.message&&Object(y.jsx)(S.a,{anchorOrigin:{vertical:"center",horizontal:"center"},open:this.state.open,autoHideDuration:6e5,onClose:function(){return e.handleClose()},children:Object(y.jsx)(T,{onClose:function(){return e.handleClose()},severity:this.state.successful?"success":"warning",children:this.state.message})}),Object(y.jsx)("h2",{children:"Bienvenue sur la page d'inscription"}),Object(y.jsxs)("div",{style:{marginTop:"20px"},children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"firstname",style:{marginTop:"20px",color:"black"},children:Object(y.jsx)("strong",{children:"Prenom"})}),Object(y.jsx)(E.a,{type:"text",size:"small",name:"firstname",value:this.state.firstname,onChange:this.onChangeFirstname,validations:[A,P],className:"form-control",required:!0})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"lastname",style:{marginTop:"10px",color:"black"},children:Object(y.jsx)("strong",{children:"Nom"})}),Object(y.jsx)(E.a,{type:"text",size:"small",name:"lastname",value:this.state.lastname,onChange:this.onChangeLastname,validations:[A,D],className:"form-control",required:!0})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"email",style:{marginTop:"10px",color:"black"},children:Object(y.jsx)("strong",{children:"Email"})}),Object(y.jsx)(E.a,{type:"email",size:"small",name:"email",onChange:this.onChangeEmail,value:this.state.email,className:"form-control",required:!0,validations:[A,R]})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"password",style:{marginTop:"10px",color:"black"},children:Object(y.jsx)("strong",{children:"Mot de passe"})}),Object(y.jsx)(E.a,{type:"password",size:"small",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[A,B],className:"form-control",required:!0})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"password_confirmation",style:{marginTop:"10px",color:"black"},children:Object(y.jsx)("strong",{children:" Confirmer Mot de passe"})}),Object(y.jsx)(E.a,{type:"password",size:"small",name:"password_confirmation",value:this.state.password_confirmation,onChange:this.onChangePasswordConfirmation,validations:[A,L],className:"form-control",required:!0})]})]}),Object(y.jsxs)("div",{style:{marginTop:"15px",width:"100%"},className:"form-group",children:[Object(y.jsxs)("button",{onClick:function(){return e.props.history.push({pathname:"/login"})},className:"btnn",style:{backgroundColor:"transparent",color:"#4257b2",border:"1px solid #4257b2","font-size":"12px",width:"44%"},disabled:this.state.loading,children:[this.state.loading&&Object(y.jsx)("span",{className:"spinner-border spinner-border-sm"}),"SE CONNECTER"]}),Object(y.jsx)("button",{className:"btnn",style:{"font-size":"12px",width:"45%"},onClick:this.handleRegister,children:"CREER EN COMPTE"})]})]}),float:"right"})}),Object(y.jsx)(z.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),n}(s.Component),I=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={content:""},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({content:"Bienvenue dans votre application de Neuro\xe9ducation"})}},{key:"render",value:function(){return Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("header",{className:"jumbotron",children:Object(y.jsx)("h3",{children:this.state.content})})})}}]),n}(s.Component),M=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={title:"",description:""},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({title:"Bienvenue dans votre application de Neuro\xe9ducation",description:"Cette application permet aux \xe9l\xe8ves de prendre conscience de leurs strat\xe9gies de r\xe9ussite et des potentielles origines de leurs erreurs"})}},{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("header",{className:"jumbotron",children:Object(y.jsx)("h3",{children:this.state.title})})}),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h5",{children:this.state.description}),Object(y.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(y.jsx)("img",{style:{height:"500px",width:"500px",borderRadius:"10px"},src:"/brain-storming.png",alt:"students brainstorming"})})]})]})}}]),n}(s.Component),F=n(27),H=n(6);function V(e){var t=e.content;e.float;return Object(y.jsx)(q.a,{style:{height:"850px",maxHeight:"900",width:"100%",backgroundImage:"url(".concat("/blueBG.png",")"),maxWidth:"890px",margin:"auto",marginTop:"70px"},children:Object(y.jsx)("div",{style:{backgroundColor:"white",height:"100%",minWidth:"300px",maxWidth:"600px",maxHeight:"770px",width:"100%",margin:"auto",marginTop:"40px"},children:t})})}function W(e){return Object(y.jsx)(k.a,Object(x.a)({elevation:6,variant:"filled"},e))}var Z=function(e){var t=Object(s.useState)(""),n=Object(H.a)(t,2),i=n[0],a=n[1],o=Object(s.useState)(""),c=Object(H.a)(o,2),r=c[0],l=c[1],u=Object(s.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],h=Object(s.useState)(""),p=Object(H.a)(h,2),m=p[0],x=p[1],f=Object(s.useState)(!1),g=Object(H.a)(f,2),v=g[0],z=g[1],q=Object(s.useState)(e.email),C=Object(H.a)(q,1)[0],k=e.currentuser,N=Object(s.useState)(null),w=Object(H.a)(N,2),_=w[0],E=w[1],Q=Object(s.useState)(!1),T=Object(H.a)(Q,2),A=T[0],R=T[1],D=(e.logOut,function(e){e.preventDefault(),E(null),x(""),z(!1),function(e,t,n){t!==n&&E(["Nouveau mot de passe non conforme"]),E(""===e||null===e?[].concat(Object(F.a)(_),["Veuillez vous reconnecter"]):null)}(r,j),_?(x(_.toString()),R(!0)):O.changePassword(C,i,r,j).then((function(e){x("Mot de passe modifi\xe9 avec succ\xe8s"),z(!0),R(!0)})).catch((function(e){var t=e.response.data.message[0].password||e.response&&e.response.data&&e.response.data.message||e.message||e.toString();console.log(t),x(t),z(!1),R(!0)}))}),P=function(){R(!1)};return Object(y.jsx)("div",{children:Object(y.jsx)("form",{onSubmit:function(e){return D(e)},children:Object(y.jsx)(V,{content:Object(y.jsxs)("div",{className:"formCardContent",children:[Object(y.jsx)(S.a,{anchorOrigin:{vertical:"center",horizontal:"center"},open:A,autoHideDuration:6e3,onClose:function(){return P()},children:Object(y.jsx)(W,{onClose:function(){return P()},severity:v?"success":"warning",children:m})}),Object(y.jsx)("header",{className:"jumbotron",children:Object(y.jsxs)("h3",{children:["Profile : ",Object(y.jsxs)("strong",{children:[k.message.firstname," ",k.message.lastname]})]})}),Object(y.jsx)("div",{className:"row2",style:{margin:"20px",marginTop:"20px",width:"80%",marginBottom:"10px"},children:Object(y.jsx)("h5",{children:"Informations sur le compte"})}),Object(y.jsxs)("div",{className:"row1",style:{margin:"20px",marginTop:"20px",width:"90%",marginBottom:"10px"},children:[Object(y.jsx)("label",{style:{width:"40%"},children:"Prenom"}),Object(y.jsx)("input",{type:"text",id:"firstname",class:"input-field",disabled:!0,style:{width:"60%"},value:k.message.firstname})]}),Object(y.jsxs)("div",{className:"row1",style:{margin:"20px",marginTop:"10px",width:"90%",marginBottom:"10px"},children:[Object(y.jsx)("label",{style:{width:"40%"},children:"Nom"}),Object(y.jsx)("input",{type:"text",id:"lastname",class:"input-field",disabled:!0,style:{width:"60%"},value:k.message.lastname})]}),Object(y.jsxs)("div",{className:"row1",style:{margin:"20px",marginTop:"10px",width:"90%",marginBottom:"10px"},children:[Object(y.jsx)("label",{style:{width:"40%"},children:"Email"}),Object(y.jsx)("input",{type:"email",id:"email",class:"input-field",disabled:!0,style:{width:"60%"},value:k.message.email})]}),Object(y.jsx)("div",{className:"row2",style:{margin:"20px",marginTop:"20px",width:"90%",marginBottom:"10px"},children:Object(y.jsx)("h5",{children:"Changement de mot de passe"})}),Object(y.jsxs)("div",{className:"row1",style:{margin:"20px",marginTop:"20px",width:"90%",marginBottom:"10px"},children:[Object(y.jsx)("label",{style:{width:"40%"},children:"Ancien mot de passe"}),Object(y.jsx)("input",{type:"password",name:"oldPw",value:i,placeholder:"******",onChange:function(e){return a(e.target.value)},class:"input-field",style:{width:"60%"},required:!0})]}),Object(y.jsxs)("div",{className:"row1",style:{margin:"20px",marginTop:"20px",width:"90%",marginBottom:"10px"},children:[Object(y.jsx)("label",{style:{width:"40%"},children:" Nouveau mot de passe "}),Object(y.jsx)("input",{type:"password",name:"newPw",value:r,placeholder:"******",onChange:function(e){return l(e.target.value)},class:"input-field",style:{width:"60%"},required:!0})]}),Object(y.jsxs)("div",{className:"row1",style:{margin:"20px",marginTop:"20px",width:"90%",marginBottom:"10px"},children:[Object(y.jsx)("label",{style:{width:"40%"},children:"Confirmer mot de passe"}),Object(y.jsx)("input",{type:"password",name:"confirmNewPw",value:j,placeholder:"******",onChange:function(e){return b(e.target.value)},class:"input-field",style:{width:"60%"},required:!0})]}),Object(y.jsx)("center",{children:Object(y.jsx)("button",{className:"btnn",style:{backgroundColor:"transparent",color:"#4257b2",border:"1px solid #4257b2","font-size":"12px",float:"right",marginRight:"40px"},children:"Confirmer"})})]})})})})},J=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={currentUser:O.getCurrentUser()},s}return Object(l.a)(n,[{key:"logOut",value:function(){if(O.logout(),this.setState({currentUser:void 0,showAdminBoard:!1,showTeacherBoard:!1}),!this.state.currentUser)return Object(y.jsx)(b.a,{to:"/home"})}},{key:"render",value:function(){var e=this.state.currentUser;return Object(y.jsx)("div",{className:"container",children:Object(y.jsx)(Z,{currentuser:e,email:e.message.email,logOut:this.logOut})})}}]),n}(s.Component),G=n(32),Y=new(function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"searchQuiz",value:function(e){return p.a.get("https://neuroeducation-feedback.herokuapp.com/api/searchQuiz/".concat(e),{})}},{key:"submitAnswers",value:function(e){p.a.post("https://neuroeducation-feedback.herokuapp.com/api/history",{answers:e})}}]),e}()),K=n(471),X=n(468),$=n(469),ee=n(493),te=n(52),ne=function(e){var t=e.data,n=e.noUnderline,s=e.subHeader;return Object(y.jsx)("div",{children:Object(y.jsxs)(te.a,{style:{textAlign:"center",color:"#4257b2",marginTop:"20px",marginBottom:"20px"},variant:s?"h6":"h5",children:[t,Object(y.jsx)("div",{className:n?"":"underline"})]})})},se=function(e){var t=[];switch(e){case 1:t=["1er quiz"];break;case 2:t=["1er quiz","2e quiz"];break;case 3:t=["1er quiz","2e quiz","3e quiz"];break;case 4:t=["1er quiz","2e quiz","3e quiz","4e quiz"];break;case 5:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz"];break;case 6:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz","6e quiz"];break;case 7:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz","6e quiz","7e quiz"];break;case 8:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz","6e quiz","7e quiz","8e quiz"];break;case 9:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz","6e quiz","7e quiz","8e quiz","9e quiz"];break;case 10:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz","6e quiz","7e quiz","8e quiz","9e quiz","10e quiz"];break;case 11:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz","6e quiz","7e quiz","8e quiz","9e quiz","10e quiz","11\xe8me quiz"];break;case 12:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz","6e quiz","7e quiz","8e quiz","9e quiz","10e quiz","11\xe8me quiz","12\xe8me quiz"];break;case 13:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz","6e quiz","7e quiz","8e quiz","9e quiz","10e quiz","11\xe8me quiz","12\xe8me quiz","13e quiz"];break;case 14:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz","6e quiz","7e quiz","8e quiz","9e quiz","10e quiz","11\xe8me quiz","12\xe8me quiz","13e quiz","14e quiz"];break;default:t=["1er quiz","2e quiz","3e quiz","4e quiz","5e quiz","6e quiz","7e quiz","8e quiz","9e quiz","10e quiz","11\xe8me quiz","12\xe8me quiz","13e quiz","14e quiz","15e quiz"]}return t},ie=n(56),ae=function(e){var t=e.labels,n=e.data;return Object(y.jsx)("div",{children:Object(y.jsx)(ie.Line,{data:{labels:t,datasets:[{data:n,borderColor:"hsl(205, 78%, 60%)"}]},options:{maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})})},oe=n(430),ce=n(43),re=n.n(ce),le=n(111),ue=n.n(le),de=function(e){var t=e.frontSide,n=e.backSide;return Object(y.jsxs)(ue.a,{className:"col-xs-12 col-sm-12 col-md-4 col-lg-3",flipOnHover:!0,flipOnClick:!1,flipDirection:"horizontal",style:{minWidth:"260px",height:"150px",marginBottom:"25px",marginRight:"25px"},children:[Object(y.jsx)(le.FrontSide,{style:{padding:0,margin:0},children:t}),Object(y.jsx)(le.BackSide,{style:{backgroundColor:"#4257b2",padding:2,margin:0},children:Object(y.jsx)("div",{children:n})})]})},je=n(494),be=n(105),he=n.n(be);function pe(e){return Object(y.jsx)(k.a,Object(x.a)({elevation:6,variant:"filled"},e))}var me=function(){var e=Object(s.useState)(""),t=Object(H.a)(e,2),n=t[0],i=t[1],a=Object(s.useState)(!1),o=Object(H.a)(a,2),c=o[0],r=o[1],l=Object(s.useState)(""),u=Object(H.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)(""),h=Object(H.a)(b,2),m=h[0],f=h[1],g=Object(s.useState)(null),v=Object(H.a)(g,2),z=v[0],C=v[1],k=Object(s.useState)({}),N=Object(H.a)(k,2),w=N[0],_=N[1],E=Object(s.useState)([]),Q=Object(H.a)(E,2),T=Q[0],A=Q[1],R=Object(s.useState)(O.getCurrentUser()),D=Object(H.a)(R,1)[0],P=Object(s.useState)([]),B=Object(H.a)(P,2),L=B[0],U=B[1],I=Object(s.useState)(!1),M=Object(H.a)(I,2),V=M[0],W=M[1],Z=Object(s.useState)(!1),J=Object(H.a)(Z,2),ie=J[0],ce=J[1],le=Object(s.useState)(""),ue=Object(H.a)(le,2),be=ue[0],me=ue[1],Oe=Object(s.useState)([]),xe=Object(H.a)(Oe,2),fe=xe[0],ge=xe[1],ve=Object(s.useState)([]),ze=Object(H.a)(ve,2),qe=ze[0],ye=ze[1],Ce=Object(s.useState)(!0),ke=Object(H.a)(Ce,2),Se=ke[0],Ne=ke[1],we=Object(s.useState)(!1),_e=Object(H.a)(we,2),Ee=_e[0],Qe=_e[1],Te=Object(s.useState)(!1),Ae=Object(H.a)(Te,2),Re=Ae[0],De=Ae[1],Pe=Object(s.useState)(),Be=Object(H.a)(Pe,2),Le=(Be[0],Be[1]),Ue=function(){Ne(!1),Qe(!0),De(!1)},Ie=function(){Ne(!0),W(!0),Qe(!1),De(!1)},Me=function(e,t){var n=[];return e.forEach((function(e){n.push(e[t])})),n},Fe=function(e,t){var n=[];e.quiz_answers.forEach((function(e,t){n.push(function(e){var t=[];return e.student_answers.forEach((function(e){switch(e.answer){case"Non":t.push(1);break;case"Plutot Non":t.push(2);break;case"Plutot Oui":t.push(3);break;default:t.push(4)}})),t}(e))})),ge(n),Y.searchQuiz(e.quiz_id).then((function(e){ye(e.data)})).catch((function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();console.log(t)}))};Object(s.useEffect)((function(){var e=D.message.email;p.a.get("https://neuroeducation-feedback.herokuapp.com/api/studentQuizzes/".concat(e)).then((function(e){U(e.data.quizzes)})).catch((function(e){f(e.response)}))}),[D,L]);var He=function(e,t){return!!w[e]&&w[e]===t},Ve=function(e,t){var n=T.map((function(e){return Object(x.a)({},e)}));n.find((function(t){return t.question_answer_id===e}))?(n.find((function(t){return t.question_answer_id===e})).answer=t,_((function(n){return Object(x.a)(Object(x.a)({},n),{},Object(G.a)({},e,t))})),A(n)):(_((function(n){return Object(x.a)(Object(x.a)({},n),{},Object(G.a)({},e,t))})),A([].concat(Object(F.a)(T),[{question_answer_id:e,answer:t,explanation:"no explanation"}])))},We=function(){ce(!1)};return Object(y.jsxs)("div",{children:[Se&&Object(y.jsx)("div",{children:Object(y.jsxs)("div",{children:[m&&Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("div",{className:"alert alert-danger",role:"alert",children:m})}),(!c||V)&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{style:{marginTop:"50px"},children:[d&&Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("div",{className:c?"alert alert-success":"alert alert-danger",role:"alert",children:d})}),Object(y.jsxs)("form",{id:"form",children:[Object(y.jsx)("input",{onChange:function(e){i(e.target.value)},id:"commonSearchTerm",className:"input-field",placeholder:"Entrez un code de quiz valide...",required:!0}),Object(y.jsx)("button",{id:"searchButton",className:"input-field",onClick:function(e){e.preventDefault(),j(""),r(!1),Y.searchQuiz(n).then((function(e){W(!1),r(!0),C(e.data),De(!0)})).catch((function(e){console.log(e.response);var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();j(t),r(!1)}))},children:"Rechercher"})]})]}),(V||!c)&&L&&Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-12",children:[Object(y.jsx)("center",{children:Object(y.jsx)(ne,{data:"Quiz d\xe9j\xe0 r\xe9pondus"})}),Object(y.jsx)("div",{className:"row",children:L&&L.map((function(e,t){return Object(y.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-4",children:Object(y.jsx)(de,{frontSide:Object(y.jsx)("div",{children:Object(y.jsxs)(q.a,{elevation:1,style:{padding:"20px",marginBottom:"10px"},onMouseOver:function(){return function(e,t){Fe(e,t),Le({})}(e,t)},children:[Object(y.jsx)(X.a,{avatar:Object(y.jsx)(ee.a,{style:{backgroundColor:"#4257b2"},children:e.quiz_id[0].toUpperCase()}),title:e.quiz_id}),Object(y.jsx)($.a,{children:Object(y.jsx)(te.a,{variant:"body2",color:"textSecondary",children:e.quiz_id})})]})},t),backSide:Object(y.jsx)("div",{children:Object(y.jsxs)(q.a,{elevation:1,style:{padding:"20px",marginBottom:"10px"},children:[Object(y.jsx)(X.a,{avatar:Object(y.jsx)(ee.a,{style:{backgroundColor:"#4257b2"},children:e.quiz_id[0].toUpperCase()}),title:e.quiz_id}),Object(y.jsx)($.a,{children:Object(y.jsx)("div",{style:{float:"right",color:"#4257b2"},children:Object(y.jsx)(je.a,{title:"Cliquez pour les statistiques",children:Object(y.jsx)(oe.a,{onClick:Ue,style:{float:"right",color:"#4257b2"},children:Object(y.jsx)(he.a,{})})})})})]})},t)})},t)}))})]})})]})]})}),Object(y.jsx)("div",{children:Re&&z&&Object(y.jsxs)("div",{className:"container-questions",children:[Object(y.jsx)(oe.a,{onClick:function(){return Ie()},style:{float:"left",color:"#4257b2"},children:Object(y.jsx)(re.a,{})}),ie&&Object(y.jsx)(S.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:ie,autoHideDuration:6e3,onClose:function(){return We()},children:Object(y.jsx)(pe,{onClose:function(){return We()},severity:"error",children:be})}),Object(y.jsxs)("center",{children:[Object(y.jsx)("h4",{children:z.quiz}),Object(y.jsx)("br",{})]}),z.questions&&z.questions.map((function(e,t){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("span",{style:{fontSize:"20px"},children:[e.question_id,". ",e.question_title]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{className:"input",type:"radio",value:"Oui",checked:He(e.question_id,"Oui"),onChange:function(t){return Ve(e.question_id,t.target.value)}})," ","Oui",Object(y.jsx)("input",{className:"input",type:"radio",value:"Plutot Oui",checked:He(e.question_id,"Plutot Oui"),onChange:function(t){return Ve(e.question_id,t.target.value)}})," ","Plutot Oui",Object(y.jsx)("input",{className:"input",type:"radio",value:"Plutot Non",checked:He(e.question_id,"Plutot Non"),onChange:function(t){return Ve(e.question_id,t.target.value)}})," ","Plutot Non",Object(y.jsx)("input",{className:"input",type:"radio",value:"Non",checked:He(e.question_id,"Non"),onChange:function(t){return Ve(e.question_id,t.target.value)}})," ","Non"]}),"Plutot Non"===w[e.question_id]||"Plutot Oui"===w[e.question_id]||"Non"===w[e.question_id]?Object(y.jsx)("div",{children:e.question_options&&e.question_options.map((function(t,n){return Object(y.jsx)("div",{children:Object(y.jsxs)("label",{children:[Object(y.jsx)("input",{type:"checkbox",value:t.options_id,checked:T[t.option_text],onChange:function(t){return function(e,t,n,s,i){var a=T.map((function(e){return Object(x.a)({},e)}));a.find((function(e){return e.question_answer_id===n}))&&(a.find((function(e){return e.question_answer_id===n})).explanation=e,A(a))}(t.target.value,t.target.checked,e.question_id,e.question_id,z.quiz_id)}}),Object(y.jsxs)("span",{children:["  ",t.options_id,". ",t.options_text]})]})})}))}):Object(y.jsx)("span",{children:"No Explanation Needed"})]},e.question_id)})),Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("button",{className:"btnn",onClick:function(){var e=Date.now(),t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e),n={quiz_id:z.quiz_id,quiz_title:z.quiz,quiz_answers:{student_id:D.message.email,student_answers:T,time_submitted:t}};return z.questions.length!==n.quiz_answers.student_answers.length?(me("Veuillez r\xe9pondre \xe0 toutes les questions"),ce(!0),ce(!0)):D.message.roles.includes("ROLE_ADMIN")?(me("Les administrateurs ne peuvent pas participer au quiz, ils ne peuvent qu'avoir un aper\xe7u de la page des \xe9l\xe8ves."),ce(!0),ce(!0)):void p.a.post("https://neuroeducation-feedback.herokuapp.com/api//history",{answers:n}).then((function(e){e&&(C(null),A([]),_({}),U([].concat(Object(F.a)(L),[n])),j("R\xe9ponses soumises"),r(!0),W(!0))})).catch((function(e){C(null),r(!1),j(e.response.data.message||e.response.data.message[0].error)}))},children:"Soumettre les r\xe9ponses"})})]})}),Ee&&Object(y.jsxs)("div",{children:[Object(y.jsx)(oe.a,{onClick:function(){return Ie()},style:{float:"left",color:"#4257b2"},children:Object(y.jsx)(re.a,{})}),fe.length?Object(y.jsx)(K.a,{container:!0,spacing:3,children:fe.length&&Ee&&fe[0].map((function(e,t){return Object(y.jsx)(K.a,{item:!0,md:6,sm:12,lg:4,children:Object(y.jsxs)(q.a,{elevation:2,children:[Object(y.jsx)(X.a,{title:Object(y.jsx)(te.a,{style:{fontSize:"1rem"},color:"textSecondary",variant:"h6",component:"p",children:qe?"Q".concat(t+1,". ")+qe.questions[t].question_title:"Question ".concat(t+1)}),subheader:Object(y.jsx)("div",{style:{fontSize:"0.8rem"},children:"Oui-4 Plutot Oui-3 Plutot Non-2 Non-1"})}),Object(y.jsx)($.a,{children:Object(y.jsx)(ae,{labels:se(fe.length),data:Me(fe,t)})})]})})}))}):Object(y.jsx)(ne,{data:"Aucune donn\xe9e pour le graphique, veuillez d'abord r\xe9pondre au quiz.",noUnderline:!0,subHeader:!0})]})]})},Oe=n(489),xe=new(function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"submit",value:function(e,t,n){return p.a.post("https://neuroeducation-feedback.herokuapp.com/api/postform/submit",{title:e,created_by:t,questions:n}).then((function(e){return e.data}))}}]),e}()),fe=n(472),ge=n(473),ve=n(474),ze=n(475),qe=function(e){var t=e.confirmDialog;return Object(y.jsx)("div",{children:Object(y.jsxs)(fe.a,{open:t.isOpen,children:[Object(y.jsx)(ge.a,{}),Object(y.jsxs)(ve.a,{children:[Object(y.jsx)(te.a,{variant:"h6",children:t.title}),Object(y.jsx)(te.a,{variant:"subtitle2",children:t.subTitle})]}),Object(y.jsxs)(ze.a,{children:[Object(y.jsx)("button",{className:"btnn",onClick:t.onDiscard,children:"Non"}),Object(y.jsx)("button",{className:"btnn",onClick:t.onConfirm,children:"Oui"})]})]})})},ye=n(80),Ce=n.n(ye),ke=n(490),Se=n(477),Ne=n(185),we=n.n(Ne);function _e(e){var t=i.a.useState(null),n=Object(H.a)(t,2),s=n[0],a=n[1],o=Boolean(s);return Object(y.jsxs)("div",{children:[Object(y.jsxs)(oe.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},style:{float:"right",color:"#4257b2"},children:[Object(y.jsx)(we.a,{}),Object(y.jsx)("span",{children:"Options"})]}),Object(y.jsx)(ke.a,{id:"long-menu",anchorEl:s,keepMounted:!0,open:o,onClose:function(){a(null)},PaperProps:{style:{maxHeight:216,width:"20ch",color:"#4257b2"}},children:e.options&&e.options.map((function(e){return Object(y.jsxs)(Se.a,{selected:"Pyxis"===e,onClick:e.onclick,children:[e.icon,e.title]},e.title)}))})]})}var Ee=n(186),Qe=n.n(Ee),Te=n(467),Ae=n(133),Re=n.n(Ae);function De(e){return Object(y.jsx)(k.a,Object(x.a)({elevation:6,variant:"filled"},e))}var Pe=function(e){if(!e)return Object(y.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Ce champ est obligatoire !"})},Be=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).onChangeQuestion=s.onChangeQuestion.bind(Object(u.a)(s)),s.onClickAddExplanation=s.onClickAddExplanation.bind(Object(u.a)(s)),s.state={explanations:!1,delete:s.props.delete},s}return Object(l.a)(n,[{key:"onChangeQuestion",value:function(e){this.props.onQuestionChange(e.target.value)}},{key:"onChangeExplanation",value:function(e,t){this.props.onExplanationChange(e,t.target.value)}},{key:"onClickRemoveExplanation",value:function(e){this.props.onRemoveExplanationClick(e)}},{key:"onClickAddExplanation",value:function(){this.props.onAddExplanationClick(),this.setState({explanations:!0})}},{key:"createExplanationUI",value:function(){var e=this;return Object(y.jsx)("div",{children:this.props.explanations?this.props.explanations.map((function(t,n){return Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"explanation",children:"Explication"}),Object(y.jsxs)("form",{id:"formExp",children:[Object(y.jsx)("input",{onChange:e.onChangeExplanation.bind(e,n),id:"inputExp",variant:"outlined",fullWidth:!0,required:!0,size:"small",style:{height:"50"}}),Object(y.jsx)(je.a,{title:"Supprimer cette explication",children:Object(y.jsxs)("button",{type:"button",id:"buttonExp",onClick:e.onClickRemoveExplanation.bind(e,n),children:[" ",Object(y.jsx)(Ce.a,{style:{color:"red"}})," "]})})]})]},n)})})):Object(y.jsx)("h3",{children:"No Explanation props"})})}},{key:"render",value:function(){var e=this.state.question,t=this.state.delete;return Object(y.jsx)("div",{children:Object(y.jsxs)(g.a,{children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"question",style:{paddingTop:"10px"},children:Object(y.jsxs)("span",{children:[Object(y.jsx)("strong",{children:"Question"}),Object(y.jsx)(je.a,{title:"Supprimer cette question",children:Object(y.jsx)(oe.a,{className:"deleteQuestion",onClick:t,style:{float:"right"},children:Object(y.jsx)(Ce.a,{})})})]})}),Object(y.jsx)("input",{type:"text",className:"form-control",name:"question",value:e,onChange:this.onChangeQuestion,validations:[Pe],autoComplete:"off"})]}),this.state.explanations&&this.createExplanationUI(),Object(y.jsx)(je.a,{title:"Adjouter une explication",children:Object(y.jsx)(oe.a,{onClick:this.onClickAddExplanation,style:{color:"#4257b2",float:"left",marginBottom:"15px"},children:Object(y.jsx)(Re.a,{})})}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{})]})})}}]),n}(s.Component),Le=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).createQuiz=function(){s.setState({laststate:s.state.displayQuizzes,displayQuizzes:null,displayCreate:!0,displayQuiz:!1,protectEvolution:!1})},s.backToQuizzes=function(){s.setState({displayQuizzes:s.state.laststate,displayCreate:!1,displayQuiz:!1,edit:!1,protectEvolution:!1})},s.getQuiz=function(e){Y.searchQuiz(e).then((function(e){s.setState({displayQuiz:!0,laststate:s.state.displayQuizzes,currentQuiz:e.data,currentQuizQuestions:e.data.questions,toggle:e.data.allow,displayQuizzes:null,displayCreate:!1})})).catch((function(e){console.log(e.response);var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();s.setState({message:t,successful:!1})})),p.a.get("https://neuroeducation-feedback.herokuapp.com/api/findOneAnswered/".concat(e)).then((function(e){""===e.data?s.setState({protect:!1,showEditInfo:!0}):s.setState({protectEvolution:!0,protect:!0})})).catch((function(e){console.log(e),s.setState({protectEvolution:!0,protect:!0})}))},s.setConfirmDialog=function(e,t,n,i){s.setState({confirmDialog:{isOpen:!0,title:t,subTitle:n,onConfirm:i,onDiscard:function(){return s.discard(e)}}})},s.discard=function(e){"update"===e||"delete"===e?s.setState({confirmDialog:{isOpen:!1,title:"",subTitle:"",onConfirm:null,onDiscard:null}}):"toggle"===e&&s.setState({confirmDialog:{isOpen:!1,title:"",subTitle:"",onConfirm:null,onDiscard:null},toggle:!s.state.toggle})},s.handleToggle=function(e){var t,n;s.setState({toggle:e.target.checked}),e.target.checked?(t="Autoriser les \xe9tudiants \xe0 r\xe9pondre au quiz\xa0?",n="Les \xe9tudiants peuvent r\xe9pondre au quiz maintenant"):(t="Voulez-vous fermer le quiz\xa0?",n="Les \xe9tudiants ne peuvent pas r\xe9pondre au quiz maintenant"),s.setState({confirmDialog:{isOpen:!0,title:t,subTitle:s.state.subTitle,onConfirm:function(){return s.allowQuiz(n)},onDiscard:function(){return s.discard("toggle")}}})},s.allowQuiz=function(e){var t=s.state.toggle,n=s.state.currentQuiz.quiz_id;p.a.post("https://neuroeducation-feedback.herokuapp.com/api/allowQuiz/".concat(n),{allow:t}).then((function(n){var i;i=t||!1,s.setState({message:e,open:!0,successful:i,toggle:t})})).catch((function(e){console.log(e.response.data.message||e.response)})),s.setState({confirmDialog:{isOpen:!1,title:"",subTitle:"",onConfirm:null,onDiscard:null}})},s.updateQuiz=function(e){if(e.preventDefault(),s.state.protect)s.setState({protectEvolution:!0});else{for(var t=[],n=0;n<=100&&null!==document.getElementById("Q"+n);n++){for(var i=document.getElementById("Q"+n).value,a=[],o=1;o<=20;o++){var c=String.fromCharCode(96+o),r="Q"+n+"E"+c;if(null===document.getElementById(r))break;var l=document.getElementById(r).value;a.push({options_id:c,options_text:l})}t.push({question_id:n+1,question_title:i,question_options:a})}var u=document.getElementById("quiz_id").value;p.a.post("https://neuroeducation-feedback.herokuapp.com/api/updateQuiz/".concat(u),{updated_questions:t}).then((function(e){s.setState({message:"Quiz mis \xe0 jour.",open:!0,successful:!0})})).catch((function(e){console.log(e.response.data.message||e.response),this.setState({message:"Quiz non mis \xe0 jour.",open:!0,successful:!1})})),s.setState({confirmDialog:{isOpen:!1,title:"",subTitle:"",onConfirm:null,onDiscard:null}})}},s.deleteQuiz=function(){var e=s.state.currentQuiz.quiz_id,t=s.state.currentQuiz.created_by;p.a.delete("https://neuroeducation-feedback.herokuapp.com/api/delete/".concat(e,"/").concat(t)).then((function(t){s.setState({open:!0,message:"Quiz supprim\xe9",danger:!0,successful:null,allQuizzes:s.state.allQuizzes.filter((function(t){return t.quiz_id!==e}))})})).catch((function(e){console.log(e),s.setState({message:"Quiz non supprim\xe9... veuillez r\xe9essayer",open:!0,successful:!1})})),s.setState({confirmDialog:{isOpen:!1,title:"",subTitle:"",onConfirm:null,onDiscard:null}}),s.backToQuizzes()},s.editQuiz=function(){s.state.protect?s.setState({protectEvolution:!0}):s.setState({edit:!0,displayQuiz:!1})},s.addQuestionEdit=function(){s.setState((function(e){return{currentQuizQuestions:[].concat(Object(F.a)(e.currentQuizQuestions),[{question_id:s.state.currentQuizQuestions.length+1,question_title:"",question_options:[]}])}}))},s.deleteQuestionEdit=function(e){var t=Object(F.a)(s.state.currentQuizQuestions);-1!==e&&(t.splice(e,1),s.setState({currentQuizQuestions:t}))},s.addExplanationEdit=function(e){var t=Object(F.a)(s.state.currentQuizQuestions),n=t[e].question_options.length,i=String.fromCharCode(96+(n+1)),a=t[e].question_options;a.push({options_id:i,options_text:""}),t[e].question_options=a,s.setState({currentQuizQuestions:t})},s.deleteExplanationEdit=function(e,t){var n=Object(F.a)(s.state.currentQuizQuestions);-1!==t&&(n[e].question_options.splice(t,1),s.setState({currentQuizQuestions:n}))},s.handleOnchangeExpEdit=function(e,t,n){var i=Object(F.a)(s.state.currentQuizQuestions);i[e].question_options[t].options_text=n.target.value,s.setState({currentQuizQuestions:i})},s.handleOnchangeQuesEdit=function(e,t){var n=Object(F.a)(s.state.currentQuizQuestions);n[e].question_title=t.target.value,s.setState({currentQuizQuestions:n})},s.handleClose=function(){s.setState({open:!1})},s.handleEditClose=function(){s.setState({protectEvolution:!1})},s.onClickAddQuestion=s.onClickAddQuestion.bind(Object(u.a)(s)),s.onChangeTitle=s.onChangeTitle.bind(Object(u.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(u.a)(s)),s.allowQuiz=s.allowQuiz.bind(Object(u.a)(s)),s.handleToggle=s.handleToggle.bind(Object(u.a)(s)),s.getQuiz=s.getQuiz.bind(Object(u.a)(s)),s.test=s.test.bind(Object(u.a)(s)),s.state={title:"",created_by:"",questions:[{question_id:"",question_title:"",question_options:[]}],message:"",currentUser:void 0,submitted:!1,quizMdp:"",allQuizzes:null,displayQuizzes:null,errorMessage:"",laststate:null,confirmDialog:{isOpen:!1,title:"",subTitle:""},updateTitle:"Are you sure you want to update?",updateSubTitle:"You will be able to edit again",protect:null},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=O.getCurrentUser();t&&this.setState({currentUser:t}),p.a.get("https://neuroeducation-feedback.herokuapp.com/api/studentQuizzes/".concat(t.message.email)).then((function(t){t.data.quizzes.length?e.setState({allQuizzes:t.data.quizzes,displayQuizzes:!0}):e.setState({allQuizzes:null,displayQuizzes:!1})})).catch((function(e){this.setState({errorMessage:e.response.data.message||e.response.data.message[0].error})})),this.setState({menuOptions:[{title:"Retourner",icon:Object(y.jsx)(re.a,{fontSize:"large"}),onclick:this.backToQuizzes},{title:"\xc9diter",icon:Object(y.jsx)(Qe.a,{fontSize:"large"}),onclick:this.editQuiz}]})}},{key:"test",value:function(e){alert("test")}},{key:"handleQuestionChange",value:function(e,t){var n=Object(F.a)(this.state.questions);n[e].question_title=t,n[e].question_id=e+1,this.setState({questions:n})}},{key:"handleExplanationChange",value:function(e,t,n){var s=Object(F.a)(this.state.questions);s[e].question_options[t].options_text=n;var i=String.fromCharCode(96+(t+1));s[e].question_options[t].options_id=i,this.setState({questions:s})}},{key:"onChangeTitle",value:function(e){var t=e.target.value;this.setState({title:t})}},{key:"onClickAddQuestion",value:function(){this.setState((function(e){return{questions:[].concat(Object(F.a)(e.questions),[{question_title:"",question_options:[]}])}}))}},{key:"handleAddExplanationClick",value:function(e){var t=Object(F.a)(this.state.questions);t[e].question_options.push({options_text:""}),this.setState({questions:t})}},{key:"handleRemoveExplanationClick",value:function(e,t){var n=Object(F.a)(this.state.questions);n[e].question_options.splice(t,1),this.setState({questions:n})}},{key:"onClickDelQuestion",value:function(e){var t=Object(F.a)(this.state.questions);t.splice(e,1),this.setState({questions:t})}},{key:"handleSubmit",value:function(){var e=this,t=this.state.currentUser;xe.submit(this.state.title,t.message.email,this.state.questions).then((function(t){e.setState({message:"Quiz submitted",submitted:!0,quizMdp:t.quizMdp})}),(function(t){var n=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();e.setState({message:n,questions:[{question_title:"",question_options:[]}]})}))}},{key:"createQuestionUI",value:function(){var e=this;return this.state.questions.map((function(t,n){return Object(y.jsx)("div",{className:"questionContainer",children:Object(y.jsx)("div",{className:"container",children:Object(y.jsx)(Be,{onQuestionChange:e.handleQuestionChange.bind(e,n),onTitleChange:e.handleTitleChange,onExplanationChange:e.handleExplanationChange.bind(e,n),onAddExplanationClick:e.handleAddExplanationClick.bind(e,n),onRemoveExplanationClick:e.handleRemoveExplanationClick.bind(e,n),explanations:e.state.questions[n].question_options,delete:e.onClickDelQuestion.bind(e,n)})},n)})}))}},{key:"render",value:function(){var e=this,t=this.state.title,n=this.state.currentUser,s=this.state.allQuizzes,i=this.state.displayQuizzes,a=this.state.displayCreate,o=this.state.displayQuiz,c=this.state.currentQuiz,r=this.state.currentQuizQuestions;return!0===this.state.submitted?Object(y.jsx)(b.a,{to:{pathname:"/postSubmitForm",state:{quizMdp:this.state.quizMdp}}}):Object(y.jsxs)("div",{className:"mainTeacherForm",children:[Object(y.jsx)(S.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:6e4,onClose:function(){return e.handleClose()},children:Object(y.jsx)(De,{onClose:function(){return e.handleClose()},severity:this.state.successful?"success":"warning",children:this.state.message})}),this.state.protectEvolution&&Object(y.jsx)(S.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.protectEvolution,autoHideDuration:6e4,onClose:function(){return e.handleEditClose()},children:Object(y.jsx)(De,{onClose:function(){return e.handleEditClose()},severity:"warning",children:"Vous ne pouvez pas modifier les questions \xe0 ce stade car certains \xe9l\xe8ves ont d\xe9j\xe0 r\xe9pondu au quiz et l'\xe9volution doit \xeatre coh\xe9rente. Vous pouvez cr\xe9er un autre quiz avec la nouvelle modification"})}),!this.state.protect&&Object(y.jsx)(S.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.showEditInfo,autoHideDuration:6e4,onClose:function(){return e.setState({showEditInfo:!1})},children:Object(y.jsx)(De,{onClose:function(){return e.setState({showEditInfo:!1})},severity:"success",children:"Vous pouvez modifier ce quiz avant d'autoriser les \xe9l\xe8ves \xe0 le faire. Remarque : vous ne pouvez pas modifier les questions une fois qu'au moins un \xe9l\xe8ve a particip\xe9 au test, afin d'\xe9viter toute incoh\xe9rence dans l'\xe9volution."})}),this.state.confirmDialog.isOpen&&Object(y.jsx)(qe,{confirmDialog:this.state.confirmDialog,setConfirmDialog:this.state.confirmDialog}),(!1===i||i)&&Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)(Te.a,{style:{backgroundColor:"white",position:"sticky",top:"0",zIndex:"999"},message:"",action:Object(y.jsx)("button",{className:"btnn",onClick:this.createQuiz,children:"Cr\xe9er un nouveau Quiz"})}),s&&i&&Object(y.jsx)("div",{children:Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-12",children:[Object(y.jsx)(ne,{data:"Quizs Cr\xe9\xe9 par : "+n.message.firstname+" "+n.message.lastname}),Object(y.jsx)("div",{className:"row",children:s&&s.map((function(t,n){return Object(y.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-4",onClick:function(){return e.getQuiz(t.quiz_id)},children:Object(y.jsxs)(q.a,{className:"card",elevation:1,style:{padding:"20px","margin-bottom":"10px"},children:[Object(y.jsx)(X.a,{avatar:Object(y.jsx)(ee.a,{style:{backgroundColor:"#4257b2"},children:t.quiz_id[0].toUpperCase()}),title:t.quiz_id}),Object(y.jsx)($.a,{children:Object(y.jsx)(te.a,{variant:"body2",color:"textSecondary",children:t.quiz_id})})]})},n)}))})]})})}),!1===i&&Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"quiz",style:{borderRadius:"10px"},children:Object(y.jsx)("h4",{children:"Pas de quizz cr\xe9\xe9 pour le moment"})})})]}),(o||this.state.edit)&&c&&Object(y.jsxs)("div",{className:"container-questions",children:[Object(y.jsx)(_e,{options:this.state.menuOptions}),Object(y.jsx)(je.a,{title:"Back to list",children:Object(y.jsx)(oe.a,{"aria-label":"back",style:{color:"#4257b2"},onClick:this.backToQuizzes,children:Object(y.jsx)(re.a,{fontsize:"large"})})}),Object(y.jsxs)("p",{children:[c.quiz+(this.state.toggle?" est ouvert":" est ferm\xe9"),Object(y.jsx)(Oe.a,{checked:this.state.toggle,onChange:this.handleToggle,name:"switch",inputProps:{"aria-label":"test switch"},style:{color:"#4257b2"},color:"primary"})]}),c&&this.state.edit&&Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{id:"myForm",children:Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsxs)("center",{children:[Object(y.jsx)("h5",{children:c.quiz}),Object(y.jsx)("br",{})]}),Object(y.jsx)("input",{type:"text",className:"form-control",name:"quiz_id",id:"quiz_id",value:c.quiz_id,readOnly:!0}),r&&r.map((function(t,n){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("label",{htmlFor:"Q"+n,children:[Object(y.jsx)("strong",{children:"Question : "+(n+1)}),Object(y.jsxs)("span",{style:{float:"right"},children:[Object(y.jsx)(je.a,{title:"Adjouter une explication",children:Object(y.jsx)(oe.a,{onClick:e.addExplanationEdit.bind(e,n),style:{color:"#4257b2",float:"left",marginBottom:"15px"},children:Object(y.jsx)(Re.a,{})})}),Object(y.jsx)(je.a,{title:"Supprimer cette question",children:Object(y.jsx)(oe.a,{className:"deleteQuestion",onClick:e.deleteQuestionEdit.bind(e,n),style:{float:"right"},children:Object(y.jsx)(Ce.a,{})})})]})]}),Object(y.jsx)("input",{type:"text",className:"form-control",name:"Q"+n,id:"Q"+n,value:t.question_title,onChange:e.handleOnchangeQuesEdit.bind(e,n),validations:[Pe],autoComplete:"off"}),t.question_options&&t.question_options.map((function(t,s){return Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"Q"+n+"E"+s,children:Object(y.jsx)("strong",{children:"Explanation : "+String.fromCharCode(96+(s+1))})}),Object(y.jsxs)("div",{class:"input-group",children:[Object(y.jsx)("div",{style:{width:"85%"},children:Object(y.jsx)("input",{type:"text",className:"form-control",name:"Q"+n+"E"+String.fromCharCode(96+(s+1)),id:"Q"+n+"E"+String.fromCharCode(96+(s+1)),value:t.options_text,onChange:e.handleOnchangeExpEdit.bind(e,n,s)})}),Object(y.jsx)("div",{children:Object(y.jsx)(je.a,{title:"Supprimer cette explication",children:Object(y.jsxs)("button",{type:"button",id:"buttonExp",className:"form-control",onClick:e.deleteExplanationEdit.bind(e,n,s),children:[Object(y.jsx)(Ce.a,{style:{color:"red"}})," "]})})})]})]})}))]},n)}))]})})}),Object(y.jsx)("button",{className:"btnn",style:{backgroundColor:"gray"},onClick:this.addQuestionEdit,children:"Ajouter une question"}),Object(y.jsx)("button",{className:"btnn",onClick:function(){return e.setConfirmDialog("update","Voulez-vous modifier ce questionnaire ?","Vous pouvez modifier \xe0 nouveau",e.updateQuiz)},children:"Modifier"})]}),Object(y.jsx)("div",{children:c&&o&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("center",{children:[Object(y.jsx)("h4",{children:c.quiz}),Object(y.jsx)("br",{})]}),c.questions&&c.questions.map((function(e,t){return Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:Object(y.jsxs)("strong",{children:[e.question_id,". ",e.question_title]})}),Object(y.jsx)("div",{children:e.question_options&&e.question_options.map((function(e,t){return Object(y.jsx)("div",{children:Object(y.jsx)("label",{children:Object(y.jsxs)("span",{children:["  ",e.options_id,". ",e.options_text]})})})}))})]},e.question_id)}))]})})]}),Object(y.jsx)("div",{children:a&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{style:{width:"100%",display:"inline-flex","justify-content":"center"},children:[Object(y.jsx)("button",{id:"backButton",onClick:this.backToQuizzes,children:Object(y.jsx)(re.a,{fontsize:"large"})}),Object(y.jsx)(Te.a,{style:{width:"100%",fontWeight:"bold",fontSize:"1.2rem",color:"#4257b2",backgroundColor:"white",position:"sticky",top:"0",zIndex:"999"},message:"Cr\xe9ation de nouvelles questions",action:Object(y.jsx)("button",{className:"btnn",variant:"contained",onClick:this.handleSubmit,children:"Valider"})})]}),Object(y.jsxs)(g.a,{children:[Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"form-title",children:Object(y.jsx)("strong",{children:"Titre du formulaire"})}),Object(y.jsx)("input",{type:"text",className:"form-control",name:"form-title",value:t,onChange:this.onChangeTitle,validations:[Pe],autoComplete:"off"})]})}),this.createQuestionUI(),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("br",{}),Object(y.jsx)(Te.a,{style:{backgroundColor:"white"},message:"",action:Object(y.jsx)("button",{className:"btnn",type:"button",onClick:this.onClickAddQuestion,children:"Ajouter une question"})})]})]}),this.state.message&&Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("div",{className:"itsanerror",children:Object(y.jsx)("h3",{children:"Une erreur est survenu lors de l'envoi du formulaire"})})})]})})]})}}]),n}(s.Component),Ue=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return void 0===this.props.location.state?Object(y.jsx)(b.a,{to:{pathname:"/home"}}):Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("header",{className:"jumbotron",children:Object(y.jsxs)("div",{className:"success",children:[Object(y.jsx)("h3",{children:"Formulaire envoy\xe9 avec succ\xe8s !"}),Object(y.jsx)("br",{}),Object(y.jsx)("h5",{children:"Voici le code du quizz \xe0 partager aux \xe9l\xe8ves :"}),Object(y.jsx)("p",{className:"quizMdp",children:" "+this.props.location.state.quizMdp})]})})})})}}]),n}(s.Component),Ie=n(134),Me=n(135),Fe=n.n(Me),He=function(e){var t=e.explanationArray,n=e.explanationLabels,s=e.explanationValues,i=e.barData;return Object(y.jsx)("div",{children:"Bar"===i?Object(y.jsx)(ie.Bar,{data:{labels:n,datasets:[{data:s,backgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"]}]},options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{display:!1},tooltips:{callbacks:{label:function(e,n){return t[e.index]},title:function(e,t){}},displayColors:!1}}}):Object(y.jsx)(ie.HorizontalBar,{data:{labels:n,datasets:[{data:s,backgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"]}]},options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{display:!1},tooltips:{callbacks:{label:function(e,n){return t[e.index]},title:function(e,t){}},displayColors:!1}}})})},Ve=n(478),We=function(e){var t=e.labels,n=e.answerValues,s=e.pieData;return Object(y.jsx)("div",{children:"Doughnut"===s?Object(y.jsx)(ie.Doughnut,{data:{labels:t,datasets:[{data:n,backgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"]}]},options:{maintainAspectRatio:!1}}):Object(y.jsx)(ie.Pie,{data:{labels:t,datasets:[{data:n,backgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"]}]},options:{maintainAspectRatio:!1}})})},Ze=n(187),Je=n.n(Ze),Ge=function(){var e=Object(s.useState)([]),t=Object(H.a)(e,2),n=t[0],i=t[1],a=Object(s.useState)(null),o=Object(H.a)(a,2),c=o[0],r=o[1],l=Object(s.useState)(null),u=Object(H.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)(),h=Object(H.a)(b,2),m=h[0],O=h[1],f=Object(s.useState)(),g=Object(H.a)(f,2),v=g[0],z=g[1],C=Object(s.useState)(null),k=Object(H.a)(C,2),S=k[0],N=k[1],w=Object(s.useState)(null),_=Object(H.a)(w,2),E=_[0],Q=_[1],T=Object(s.useState)(!0),A=Object(H.a)(T,2),R=A[0],D=A[1],P=Object(s.useState)([]),B=Object(H.a)(P,2),L=B[0],U=B[1],I=Object(s.useState)([]),M=Object(H.a)(I,2),F=M[0],V=M[1],W=Object(s.useState)("Doughnut"),Z=Object(H.a)(W,2),J=Z[0],se=Z[1],ie=Object(s.useState)("Bar"),ae=Object(H.a)(ie,2),ce=ae[0],le=ae[1],ue=Object(s.useState)(!0),be=Object(H.a)(ue,2),pe=be[0],me=be[1],Oe=Object(s.useState)(!1),xe=Object(H.a)(Oe,2),fe=xe[0],ge=xe[1],ve=Object(s.useState)(!1),ze=Object(H.a)(ve,2),qe=ze[0],ye=ze[1],Ce=Object(s.useState)(null),ke=Object(H.a)(Ce,2),Se=ke[0],Ne=ke[1];Object(s.useEffect)((function(){p.a.get("https://neuroeducation-feedback.herokuapp.com/api/findAllAnswered").then((function(e){console.log(e.data),i(e.data),D(!1)})).catch((function(e){}))}),[]);var we=function(){"Doughnut"===J&&se("Pie"),"Pie"===J&&se("Doughnut")},_e=function(){"Bar"===ce&&le("Horizontal Bar"),"Horizontal Bar"===ce&&le("Bar")},Ee=function(e){p.a.get("https://neuroeducation-feedback.herokuapp.com/api/groupStats/".concat(e)).then((function(e){e&&(O(e.data[0]._id.answer),z(e.data[0]._id.explanation))})).catch()},Qe=function(){me(!1),ge(!0),ye(!1)},Te=function(){var e=m[0].map((function(e,t){var n=[e];if(e)for(var s=1;s<m.length;s++)n.push(m[s][t]);return n})),t=v[0].map((function(e,t){var n=[e];if(e)for(var s=1;s<v.length;s++)n.push(v[s][t]);return n})),n=e.map((function(e,t){var n,s={Oui:0,"Plutot Oui":0,"Plutot Non":0,Non:0},i=Object(Ie.a)(e);try{var a=function(){var t=n.value;s=Object(x.a)(Object(x.a)({},s),{},Object(G.a)({},t,e.filter((function(e){return e===t})).length))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return s}));j(n);var s=L.map((function(e,t){return e.question_options.map((function(e,t){return e.options_text}))}));V(s);var i=t.map((function(e,t){var n,s={a:0,b:0,c:0,d:0,e:0},i=Object(Ie.a)(e);try{var a=function(){var t=n.value;s=Object(x.a)(Object(x.a)({},s),{},Object(G.a)({},t,e.filter((function(e){return e===t})).length))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return s}));Q(i),ye(!0),ge(!1),me(!1)},Ae=function(e,t){var n=[];return t.forEach((function(t){n.push(e[t])})),n},Re=function(e,t){var n=[];return t.forEach((function(t){n.push(e[t])})),n},De=function(e){return Object.keys(e)};return Object(y.jsxs)("div",{className:"container-questions",children:[R&&Object(y.jsxs)("div",{class:"spinner",children:[Object(y.jsx)("div",{}),Object(y.jsx)("div",{})]}),!R&&pe&&Object(y.jsx)("div",{style:{borderRadius:"10px"},children:Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-12",children:[Object(y.jsx)(ne,{data:"Liste de toutes les r\xe9ponses"}),Object(y.jsx)("div",{className:"row",children:n&&n.map((function(e,t){return Object(y.jsx)(de,{frontSide:Object(y.jsx)("div",{children:Object(y.jsxs)(q.a,{elevation:1,style:{padding:"20px","margin-bottom":"10px"},onMouseOver:function(){return function(e,t,n){r(e),Ee(n),N(null),Q(null),j(null),p.a.get("https://neuroeducation-feedback.herokuapp.com/api/searchQuiz/".concat(n)).then((function(e){U(e.data.questions)})).catch((function(e){})),Y.searchQuiz(e.quiz_id).then((function(e){Ne(e.data)})).catch((function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();console.log(t)}))}(e,0,e.quiz_id)},children:[Object(y.jsx)(X.a,{avatar:Object(y.jsx)(ee.a,{style:{backgroundColor:"#4257b2"},children:e.quiz_id[0].toUpperCase()}),title:e.quiz_id}),Object(y.jsx)($.a,{children:Object(y.jsx)(te.a,{variant:"body2",color:"textSecondary",children:e.quiz_title.substr(0,27)+"..."})})]})},t),backSide:Object(y.jsx)("div",{children:Object(y.jsxs)(q.a,{elevation:1,style:{padding:"20px","margin-bottom":"10px"},children:[Object(y.jsx)(X.a,{avatar:Object(y.jsx)(ee.a,{style:{backgroundColor:"#4257b2"},children:e.quiz_id[0].toUpperCase()}),title:e.quiz_title}),Object(y.jsx)($.a,{children:Object(y.jsxs)("div",{style:{float:"right",color:"#4257b2"},children:[Object(y.jsx)(je.a,{title:"Cliquez pour les statistiques",children:Object(y.jsx)(oe.a,{onClick:Te,style:{float:"right",color:"#4257b2"},children:Object(y.jsx)(he.a,{})})}),Object(y.jsx)(je.a,{title:"Liste des \xe9tudiants",children:Object(y.jsx)(oe.a,{onClick:Qe,style:{float:"right",color:"#4257b2"},children:Object(y.jsx)(Je.a,{})})})]})})]})},t)})}))})]})})}),Object(y.jsx)("div",{children:c&&(fe||qe)?Object(y.jsxs)("div",{children:[Object(y.jsx)(oe.a,{onClick:function(){return me(!0),ge(!1),ye(!1),r(null),N(null),Q(null),void j(null)},style:{float:"left",color:"#4257b2"},children:Object(y.jsx)(re.a,{})}),Object(y.jsx)("center",{children:Object(y.jsx)(ne,{data:"Vous avez s\xe9lectionn\xe9 le quiz : "+c.quiz_id})}),fe&&Object(y.jsxs)("div",{children:[Object(y.jsx)("h4",{children:"Liste des \xe9tudiants : "}),c.quiz_answers&&c.quiz_answers.map((function(e,t){return Object(y.jsx)("div",{children:Object(y.jsx)("h4",{onClick:function(){N(e)},children:e.student_id})})}))]}),Object(y.jsx)("div",{children:S&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("h4",{children:["Affichage des r\xe9ponses sur  : ",S.student_id]}),S&&S.student_answers.map((function(e,t){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("h4",{children:[e.question_answer_id," .",e.answer]}),Object(y.jsxs)("h4",{children:["Explication : ",e.explanation]})]})}))]})}),Object(y.jsx)("div",{style:{marginBottom:"20px"}}),Object(y.jsxs)(Ve.a,{children:[d&&qe&&Object(y.jsx)("div",{children:Object(y.jsx)(K.a,{container:!0,spacing:3,children:d&&d.map((function(e,t){return Object(y.jsx)(K.a,{item:!0,sm:12,md:6,lg:4,children:Object(y.jsxs)(q.a,{elevation:2,children:[Object(y.jsx)(X.a,{action:Object(y.jsx)(oe.a,{onClick:we,children:Object(y.jsx)(Fe.a,{})}),title:"",subheader:Se?"Q".concat(t+1,". ")+Se.questions[t].question_title:"Question ".concat(t+1)}),Object(y.jsx)($.a,{children:Object(y.jsx)(We,{pieData:J,labels:De(e),answerValues:Re(e,De(e))})})]})})}))})}),E&&Object(y.jsx)("div",{children:Object(y.jsx)(K.a,{container:!0,spacing:3,children:E&&E.map((function(e,t){return Object(y.jsx)(K.a,{item:!0,sm:12,md:6,lg:6,children:Object(y.jsxs)(q.a,{elevation:2,children:[Object(y.jsx)(X.a,{action:Object(y.jsx)(oe.a,{onClick:_e,children:Object(y.jsx)(Fe.a,{})}),title:"",subheader:Se?"Q".concat(t+1,". ")+Se.questions[t].question_title:"Question ".concat(t+1)}),Object(y.jsx)($.a,{children:Object(y.jsx)(He,{barData:ce,explanationArray:F[t],explanationLabels:De(e),explanationValues:Ae(e,De(e))})})]})})}))})})]})]}):Object(y.jsx)(ne,{data:"Veuillez s\xe9lectionner un quiz pour afficher les r\xe9ponses",noUnderline:!0,subHeader:!0})})]})},Ye=n(479),Ke=function(){var e=Object(s.useState)([]),t=Object(H.a)(e,2),n=t[0],i=t[1],a=Object(s.useState)(null),o=Object(H.a)(a,2),c=o[0],r=o[1],l=Object(s.useState)({}),u=Object(H.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)([]),h=Object(H.a)(b,2),m=h[0],O=h[1],f=Object(s.useState)(!1),g=Object(H.a)(f,2),v=g[0],z=g[1],C=Object(s.useState)(!0),k=Object(H.a)(C,2),S=k[0],N=k[1],w=Object(s.useState)(!0),_=Object(H.a)(w,2),E=_[0],Q=_[1];Object(s.useEffect)((function(){p.a.get("https://neuroeducation-feedback.herokuapp.com/api/findAllQ").then((function(e){i(e.data),Q(!1)})).catch((function(e){console.log(e)}))}),[]);var T=function(e,t){return!!d[e]&&d[e]===t},A=function(e,t){var n=m.map((function(e){return Object(x.a)({},e)}));n.find((function(t){return t.question_answer_id===e}))?(n.find((function(t){return t.question_answer_id===e})).answer=t,j((function(n){return Object(x.a)(Object(x.a)({},n),{},Object(G.a)({},e,t))})),O(n)):(j((function(n){return Object(x.a)(Object(x.a)({},n),{},Object(G.a)({},e,t))})),O([].concat(Object(F.a)(m),[{question_answer_id:e,answer:t,explanation:"no explanation"}])))};return Object(y.jsxs)("div",{children:[E&&Object(y.jsxs)("div",{class:"spinner",children:[Object(y.jsx)("div",{}),Object(y.jsx)("div",{})]}),!E&&S&&Object(y.jsx)("div",{style:{borderRadius:"10px",marginTop:"10px"},children:Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-12",children:[Object(y.jsx)(ne,{data:"Liste de quiz"}),Object(y.jsx)("div",{className:"row",children:S&&n&&n.map((function(e,t){return Object(y.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-4",onClick:function(){return function(e,t){r(e),N(!1),z(!0)}(e)},style:{paddingTop:"10px"},children:Object(y.jsx)(de,{frontSide:Object(y.jsxs)(q.a,{elevation:1,style:{padding:"20px","margin-bottom":"10px"},children:[Object(y.jsx)(X.a,{avatar:Object(y.jsx)(ee.a,{style:{backgroundColor:"#4257b2"},children:e.quiz_id[0].toUpperCase()}),title:e.quiz_id}),Object(y.jsx)($.a,{children:Object(y.jsx)(te.a,{variant:"body2",color:"textSecondary",children:e.quiz.substr(0,27)+"..."})})]}),backSide:Object(y.jsxs)(q.a,{elevation:1,style:{padding:"20px","margin-bottom":"10px"},children:[Object(y.jsx)(X.a,{avatar:Object(y.jsx)(ee.a,{style:{backgroundColor:"#4257b2"},children:e.quiz_id[0].toUpperCase()}),title:e.quiz_id}),Object(y.jsx)($.a,{children:Object(y.jsx)(te.a,{variant:"body2",color:"textSecondary",children:e.quiz.substr(0,27)+"..."})})]})})},t)}))})]})})}),Object(y.jsx)("div",{children:v&&c&&Object(y.jsxs)("div",{className:"container-questions",children:[Object(y.jsx)(Ye.a,{onClick:function(){return N(!0),void z(!1)},children:Object(y.jsx)(re.a,{fontsize:"large",style:{color:"#4257b2"}})}),Object(y.jsxs)("center",{children:[Object(y.jsx)("h4",{children:c.quiz}),Object(y.jsx)("br",{})]}),c.questions&&c.questions.map((function(e,t){return Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:Object(y.jsxs)("strong",{children:[e.question_id,". ",e.question_title]})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"radio",value:"Oui",checked:T(e.question_id,"Oui"),onChange:function(t){return A(e.question_id,t.target.value)}})," Oui",Object(y.jsx)("input",{type:"radio",value:"Plutot Oui",checked:T(e.question_id,"Plutot Oui"),onChange:function(t){return A(e.question_id,t.target.value)}})," Plutot Oui",Object(y.jsx)("input",{type:"radio",value:"Plutot Non",checked:T(e.question_id,"Plutot Non"),onChange:function(t){return A(e.question_id,t.target.value)}})," Plutot Non",Object(y.jsx)("input",{type:"radio",value:"Non",checked:T(e.question_id,"Non"),onChange:function(t){return A(e.question_id,t.target.value)}})," Non"]}),"Plutot Non"===d[e.question_id]||"Plutot Oui"===d[e.question_id]||"Non"===d[e.question_id]?Object(y.jsx)("div",{children:e.question_options&&e.question_options.map((function(t,n){return Object(y.jsx)("div",{children:Object(y.jsxs)("label",{children:[Object(y.jsx)("input",{type:"checkbox",value:t.options_id,checked:m[t.option_text],onChange:function(t){return function(e,t,n,s,i){var a=m.map((function(e){return Object(x.a)({},e)}));a.find((function(e){return e.question_answer_id===n}))&&(a.find((function(e){return e.question_answer_id===n})).explanation=e,O(a))}(t.target.value,t.target.checked,e.question_id,e.question_id,c.quiz_id)}}),Object(y.jsxs)("span",{children:["  ",t.options_id,". ",t.options_text]})]})})}))}):Object(y.jsx)("span",{children:"Aucune explication requise"})]},e.question_id)}))]})})]})},Xe=function(e){if(!e)return Object(y.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Ce champ est obligatoire !"})},$e=function(e){if(!Object(Q.isEmail)(e))return Object(y.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Adresse email non valide."})},et=function(e){if(e.length<3||e.length>50)return Object(y.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Le nom d'utilisateur doit contenir entre 3 et 50 charact\xe8res."})},tt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).handleRegister=s.handleRegister.bind(Object(u.a)(s)),s.onChangeFirstname=s.onChangeFirstname.bind(Object(u.a)(s)),s.onChangeLastname=s.onChangeLastname.bind(Object(u.a)(s)),s.onChangeEmail=s.onChangeEmail.bind(Object(u.a)(s)),s.onChangeCheckbox=s.onChangeCheckbox.bind(Object(u.a)(s)),s.state={firstname:"",lastname:"",email:"",admin:!1,teacher:!1,roles:[],successful:!1,message:"",noRoleError:!1,mdpTmp:""},s}return Object(l.a)(n,[{key:"onChangeFirstname",value:function(e){this.setState({firstname:e.target.value})}},{key:"onChangeLastname",value:function(e){this.setState({lastname:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeCheckbox",value:function(e){var t,n=e.target,s=n.checked,i=n.name;this.setState((t={},Object(G.a)(t,i,s),Object(G.a)(t,"noRoleError",!1),t))}},{key:"handleRegister",value:function(e){var t=this;if(e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),!this.state.admin&&!this.state.teacher)return this.setState({noRoleError:!0});var n=this.state.roles;this.state.admin&&n.push("ROLE_ADMIN"),this.state.teacher&&n.push("ROLE_TEACHER"),this.setState({roles:n}),0===this.checkBtn.context._errors.length&&O.adminRegister(this.state.firstname,this.state.lastname,this.state.email,this.state.roles).then((function(e){t.setState({message:"Compte cr\xe9\xe9 avec succ\xe8s",successful:!0,mdpTmp:e.data.mdpTmp})}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:n})}))}},{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{className:"col-md-12",children:Object(y.jsx)(C,{content:Object(y.jsx)("div",{className:"formCardContent",style:{padding:"35px",paddingTop:"70px",paddingBottom:"60px"},children:Object(y.jsxs)(g.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t},children:[!this.state.successful&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"username",children:"Prenom"}),Object(y.jsx)(E.a,{type:"text",className:"form-control",name:"username",value:this.state.firstname,onChange:this.onChangeFirstname,required:!0,validations:[Xe,et]})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"username",children:"Nom"}),Object(y.jsx)(E.a,{type:"text",className:"form-control",name:"username",value:this.state.lastname,onChange:this.onChangeLastname,required:!0,validations:[Xe,et]})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"email",children:"Email"}),Object(y.jsx)(E.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,required:!0,validations:[Xe,$e]})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsxs)("div",{className:"form-check",children:[Object(y.jsx)(E.a,{type:"checkbox",className:"form-check-input",name:"teacher",checked:this.state.teacher,onChange:this.onChangeCheckbox}),Object(y.jsx)("label",{className:"form-check-label",children:"Professeur"})]}),Object(y.jsxs)("div",{className:"form-check",children:[Object(y.jsx)(E.a,{type:"checkbox",className:"form-check-input",name:"admin",checked:this.state.admin,onChange:this.onChangeCheckbox}),Object(y.jsx)("label",{className:"form-check-label",children:"Administrateur"})]}),this.state.noRoleError&&Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("div",{className:"itsanerror",children:"Vous devez s\xe9lectionner au moins un r\xf4le"})})]}),Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("button",{className:"btnn",children:"Cr\xe9er le compte"})})]}),this.state.message&&Object(y.jsx)("div",{className:"form-group",children:Object(y.jsxs)("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert",children:[this.state.message,this.state.mdpTmp&&Object(y.jsxs)("div",{children:[Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),"Votre mot de passe temporaire est :"," "+this.state.mdpTmp,Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),"Vous pourrez le modifier en vous connectant \xe0 votre profil"]})]})}),Object(y.jsx)(z.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})})})})}}]),n}(s.Component),nt=n(194),st=n(487),it=n(195),at=function(e){var t=e.component,n=e.role,s=(Object(it.a)(e,["component","role"]),O.getCurrentUser()),i="",a=!1;return s&&(i=s.token,n.map((function(e){return s.message.roles.includes(e)&&(a=!0),a}))),i&&a?Object(y.jsx)(t,{}):Object(y.jsx)("div",{children:Object(y.jsx)(b.a,{to:{pathname:"/home"}})})},ot=(n(428),n(138)),ct=n(491),rt=n(480),lt=n(481),ut=n(495),dt=n(188),jt=n.n(dt),bt=function(e){var t=e.allStudents,n=e.getAllQuizzes,a=e.allQuizzes,o=e.displayQuizzes,c=e.setActiveQuiz,r=e.evolution,l=Object(s.useState)(0),u=Object(H.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)(10),h=Object(H.a)(b,2),p=h[0],m=h[1],O=i.a.useState(!1),x=Object(H.a)(O,2),f=x[0],g=x[1];return Object(y.jsxs)("div",{children:[t&&t.slice(d,p).map((function(e,t){return Object(y.jsxs)(ct.a,{expanded:f==="panel".concat(t+0),onChange:(s="panel".concat(t+0),function(e,t){g(!!t&&s)}),onClick:function(){return n(e.email,e.firstname+" "+e.lastname)},children:[Object(y.jsxs)(rt.a,{"aria-controls":"panel2a-content",id:"panel2a-header",expandIcon:Object(y.jsx)(jt.a,{style:{color:"#4257b2"}}),children:[Object(y.jsx)(ee.a,{style:{fontSize:"0.8rem",backgroundColor:"#4257b2"},children:(e.firstname[0]+" "+e.lastname[0]).toUpperCase()}),Object(y.jsx)(te.a,{style:{marginLeft:"15px"},variant:"h6",children:e.firstname+" "+e.lastname})]}),Object(y.jsxs)(lt.a,{children:[a&&o&&Object(y.jsx)("div",{style:{display:"flex"},children:a&&a.map((function(e,t){return Object(y.jsx)(je.a,{title:"show evolution",children:Object(y.jsx)(ut.a,{style:{color:"#fff",marginLeft:"5px",backgroundColor:"hsl(205, 78%, 60%)"},label:e.quiz_id,onMouseOver:function(){return c(e,t)},onClick:function(){return r()}})})}))}),!1===o&&Object(y.jsx)(te.a,{children:"Cet \xe9tudiant n'a r\xe9pondu \xe0 aucun quiz"})]})]});var s})),Object(y.jsxs)("div",{className:"button-container",children:[Object(y.jsx)(Ye.a,{size:"small",style:{backgroundColor:"transparent",color:"#4257b2"},startIcon:Object(y.jsx)(ot.a,{}),className:"prev-btn",onClick:function(){j((function(e){var n=e-10;return n<0?t.length-10:n})),m((function(e){var n=e-10;return d-10<0?t.length:n}))},children:"Pr\xe9c\xe9dent"}),Object(y.jsx)(Ye.a,{size:"small",style:{backgroundColor:"transparent",color:"#4257b2"},endIcon:Object(y.jsx)(ot.b,{}),className:"next-btn",onClick:function(){j((function(e){var n=e+10;return n>=t.length?0:n})),m((function(e){var n=e+10;return d+10>=t.length?10:n}))},children:"Suivant"})]})]})},ht=function(){var e=Object(s.useState)([]),t=Object(H.a)(e,2),n=t[0],i=t[1],a=Object(s.useState)(null),o=Object(H.a)(a,2),c=o[0],r=o[1],l=Object(s.useState)(""),u=Object(H.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)(null),h=Object(H.a)(b,2),m=h[0],O=h[1],x=Object(s.useState)(!1),f=Object(H.a)(x,2),g=(f[0],f[1],Object(s.useState)(!1)),v=Object(H.a)(g,2),z=v[0],C=v[1],k=Object(s.useState)(!0),S=Object(H.a)(k,2),N=S[0],w=S[1],_=Object(s.useState)(null),E=Object(H.a)(_,2),Q=(E[0],E[1]),T=Object(s.useState)(null),A=Object(H.a)(T,2),R=(A[0],A[1]),D=Object(s.useState)(!0),P=Object(H.a)(D,2),B=P[0],L=P[1],U=Object(s.useState)([]),I=Object(H.a)(U,2),M=I[0],F=I[1],V=Object(s.useState)(!1),W=Object(H.a)(V,2),Z=W[0],J=W[1],G=Object(s.useState)([]),ee=Object(H.a)(G,2),ne=ee[0],ie=ee[1];Object(s.useEffect)((function(){p.a.get("https://neuroeducation-feedback.herokuapp.com/api/findAllStudents").then((function(e){i(e.data),L(!1)})).catch((function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();j(t)}))}),[]);var ce=function(e){Q(e)},le=function(){!0===N&&!1===z?(w(!1),C(!0),J(!0)):!1===N&&!0===z&&(w(!0),C(!1),J(!1))},ue=function(e){var t=[];return e.student_answers.forEach((function(e){switch(e.answer){case"Non":t.push(1);break;case"Plutot Non":t.push(2);break;case"Plutot Oui":t.push(3);break;default:t.push(4)}})),t},de=function(e,t){var n=[];return e.forEach((function(e){n.push(e[t])})),n};return Object(y.jsx)("div",{className:"container-questions",children:d?Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("div",{className:"alert alert-danger",role:"alert",children:d})}):Object(y.jsxs)("div",{children:[N&&Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-12",children:[Object(y.jsxs)(te.a,{style:{textAlign:"center",color:"#4257b2"},variant:"h5",children:["Liste des \xe9tudiants ",Object(y.jsx)("div",{className:"underline"})]}),B&&Object(y.jsxs)("div",{class:"spinner",children:[Object(y.jsx)("div",{}),Object(y.jsx)("div",{})]}),!B&&Object(y.jsx)("div",{class:"quiz",style:{borderRadius:"10px"},children:Object(y.jsx)(bt,{allStudents:n,getAllQuizzes:function(e,t){R(null),r([]),O(null),p.a.get("https://neuroeducation-feedback.herokuapp.com/api/studentQuizzes/".concat(e)).then((function(e){e.data.quizzes.length?(r(e.data.quizzes),O(!0)):(r(null),O(!1)),ce(t)})).catch((function(e){j(e.response.data.message||e.response.data.message[0].error)}))},allQuizzes:c,displayQuizzes:m,setActiveQuiz:function(e,t){R(e);var n=[];e.quiz_answers.forEach((function(e,t){n.push(ue(e))})),F(n),Y.searchQuiz(e.quiz_id).then((function(e){ie(e.data)})).catch((function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();console.log(t)}))},evolution:le})})]})}),Object(y.jsx)("div",{children:Z&&Object(y.jsxs)("div",{children:[Object(y.jsx)(oe.a,{onClick:function(){return le()},style:{float:"left",color:"#4257b2"},children:Object(y.jsx)(re.a,{})}),Object(y.jsx)(K.a,{container:!0,spacing:3,children:M.length&&Z&&M[0].map((function(e,t){return Object(y.jsx)(K.a,{item:!0,md:6,sm:12,lg:4,children:Object(y.jsxs)(q.a,{elevation:2,children:[Object(y.jsx)(X.a,{title:Object(y.jsx)(te.a,{style:{fontSize:"1rem"},color:"textSecondary",variant:"h6",component:"p",children:ne?"Q".concat(t+1,". ")+ne.questions[t].question_title:"Question ".concat(t+1)}),subheader:Object(y.jsx)("div",{style:{fontSize:"0.8rem"},children:"Oui-4 Plutot Oui-3 Plutot Non-2 Non-1"})}),Object(y.jsx)($.a,{children:Object(y.jsx)(ae,{labels:se(M.length),data:de(M,t)})})]})})}))})]})})]})})},pt=function(e){var t=e.match.params,n=Object(s.useState)(""),i=Object(H.a)(n,2),a=i[0],o=i[1],c=Object(b.g)();return Object(s.useEffect)((function(){O.verifyAccount(t.token).then((function(e){o(e.data.message)})).catch((function(e){console.log(e),o(e.response.data.message||e.response.data)}))}),[t.token]),Object(y.jsx)("div",{children:a&&Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)(C,{content:Object(y.jsxs)("div",{className:"formCardContent",style:{padding:"35px",paddingTop:"50px",paddingBottom:"60px",clear:"both"},children:[Object(y.jsx)("p",{children:a}),Object(y.jsx)("button",{onClick:function(){return c.push({pathname:"/login"})},className:"btnn",style:{backgroundColor:"transparent",color:"#4257b2",border:"1px solid #4257b2","font-size":"12px",width:"44%"},children:"SE CONNECTER"})]})})})})},mt=n(482),Ot=n(483),xt=n(484),ft=n(190),gt=n.n(ft),vt=n(108),zt=n.n(vt),qt=n(109),yt=n.n(qt),Ct=n(110),kt=n.n(Ct),St=n(189),Nt=n.n(St),wt=Object(mt.a)({root:{maxWidth:345},media:{height:140}}),_t=function(){var e=Object(b.g)(),t=wt(),n=[{title:"AJOUTER UN COMPTE",path:"/adminRegister",children:[],message:"Ajouter un nouvel administrateur ou enseignant dans la base de donn\xe9es.",actions:{one:"Share",two:"Learn More"},icon:Object(y.jsx)(zt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})},{title:"TOUS LES QUIZZ",path:"/questions",children:[],message:"Une liste de tous les quiz de la base de donn\xe9es. Visualisez-les tous en quelques clics",actions:{one:"Share",two:"Learn More"},icon:Object(y.jsx)(yt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})},{title:"PAGE R\xc9PONSES",path:"/answers",children:[],message:"Un historique de toutes les r\xe9ponses des \xe9l\xe8ves dans la base de donn\xe9es. Tout visualiser en quelques clics",actions:{one:"Share",two:"Learn More"},icon:Object(y.jsx)(kt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})},{title:"EVOLUTION",path:"/students",children:[],message:"En tant qu'administrateur ou enseignant, vous pouvez visualiser les progr\xe8s de tous les \xe9l\xe8ves en quelques clics.",actions:{one:"Share",two:"Learn More"},icon:Object(y.jsx)(Nt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})},{title:"BASE DE DONNEES",path:"https://neuroeducation-feedback.herokuapp.com/admin/",children:["USER","QUIZZES","HISTORY"],message:"Il s'agit d'une page sp\xe9ciale pour l'administrateur. Pour la gestion de la base de donn\xe9es.",actions:{one:"Share",two:"Learn More"},icon:Object(y.jsx)(gt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})}];return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12",style:{paddingTop:"60px"},children:Object(y.jsx)("div",{className:"row",children:n&&n.map((function(n){return Object(y.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-4",children:Object(y.jsxs)(q.a,{className:t.root,style:{height:235,padding:"20px","margin-bottom":"10px"},children:[Object(y.jsx)(Ot.a,{children:Object(y.jsxs)($.a,{children:[Object(y.jsxs)(te.a,{gutterBottom:!0,variant:"h5",component:"h2",children:[Object(y.jsxs)(te.a,{variant:"h6",style:{color:"#4257b2"},children:[n.title," ",Object(y.jsx)("div",{className:"underlinee"})]}),n.icon]}),Object(y.jsx)(te.a,{variant:"body2",color:"textSecondary",component:"p",children:n.message})]})}),Object(y.jsxs)(xt.a,{children:["BASE DE DONNEES"===n.title?"":Object(y.jsx)(Ye.a,{size:"small",style:{backgroundColor:"transparent",color:"#4257b2",border:"1px solid #4257b2"},onClick:function(){return function(t,n){var s=t;if("DATABASE"===n)return window.location.href=s;e.push(s)}(n.path,n.title)},children:"GO TO"}),n.children&&n.children.map((function(e){return Object(y.jsx)(Ye.a,{size:"small",style:{backgroundColor:"transparent",color:"#4257b2",border:"1px solid #4257b2",width:"45%"},onClick:function(){var t;"USER"===(t=e)?window.location.href="https://neuroeducation-feedback.herokuapp.com/admin/resources/User":"QUIZZES"===t?window.location.href="https://neuroeducation-feedback.herokuapp.com/admin/resources/Quiz":"HISTORY"===t&&(window.location.href="https://neuroeducation-feedback.herokuapp.com/admin/resources/history")},children:e})}))]})]})})}))})})})},Et=n(4),Qt=n(496),Tt=n(476),At=n(432),Rt=n(485),Dt=n(486),Pt=n(136),Bt=n.n(Pt),Lt=Object(mt.a)({listItemText:{fontSize:"0.9em",fontFamily:"'Roboto', 'Poppins', sans-serif"},list:{width:250,color:"#4257b2",fontWeight:"bold",fontFamily:"'Roboto', 'Poppins', sans-serif"},fullList:{width:"auto",color:"#4257b2",fontWeight:"bold",fontFamily:"'Roboto', 'Poppins', sans-serif"}});function Ut(e){var t=Lt(),n=i.a.useState({top:!1,left:!1,bottom:!1,right:!1}),s=Object(H.a)(n,2),a=s[0],o=s[1],r=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&o(Object(x.a)(Object(x.a)({},a),{},Object(G.a)({},e,t)))}},l=function(n){return Object(y.jsxs)("div",{className:Object(Et.a)(t.list,Object(G.a)({},t.fullList,"top"===n||"bottom"===n)),role:"presentation",onClick:r(n,!1),onKeyDown:r(n,!1),children:[Object(y.jsx)(Tt.a,{style:{paddingTop:"30px",background:"#4257b2"},children:Object(y.jsxs)(At.a,{button:!0,style:{color:"white"},children:[Object(y.jsxs)(Rt.a,{children:[" ",Object(y.jsx)(Bt.a,{style:{color:"white"},fontsize:"large"})]}),Object(y.jsx)(Dt.a,{primary:"MENU",classes:{primary:t.listItemText}})]},"home")}),Object(y.jsx)(Tt.a,{children:e.lists&&e.lists.map((function(e,n){return Object(y.jsx)(c.b,{to:e.link,style:{color:"#4257b2",textDecoration:"none"},children:Object(y.jsxs)(At.a,{button:!0,children:[Object(y.jsx)(Rt.a,{children:e.icon}),Object(y.jsx)(Dt.a,{primary:e.title,classes:{primary:t.listItemText}})]},e.title)})}))}),Object(y.jsx)(Tt.a,{style:{position:"absolute",bottom:0},children:e.actions.map((function(e,n){return Object(y.jsx)(c.b,{to:e.link,onClick:e.onclick,style:{color:"#4257b2",textDecoration:"none"},children:Object(y.jsxs)(At.a,{button:!0,children:[Object(y.jsx)(Rt.a,{children:e.icon}),Object(y.jsx)(Dt.a,{primary:e.title,classes:{primary:t.listItemText}})]},e.title)})}))})]})};return Object(y.jsx)("div",{children:["left"].map((function(e){return Object(y.jsxs)(i.a.Fragment,{children:[Object(y.jsx)(Ye.a,{onClick:r(e,!0),children:Object(y.jsx)(Bt.a,{style:{color:"white",float:"left"},fontSize:"large"})}),Object(y.jsx)(Qt.a,{anchor:e,open:a[e],onClose:r(e,!1),style:{background:"#e6e6d5"},children:l(e)})]},e)}))})}var It=n(130),Mt=n.n(It),Ft=n(193),Ht=n.n(Ft),Vt=n(137),Wt=n.n(Vt),Zt=n(191),Jt=n.n(Zt),Gt=n(192),Yt=n.n(Gt),Kt=Object(nt.a)({palette:{primary:{main:"#DCDCDC"}}}),Xt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).handleClick=function(e){s.setState({anchorEl:e.currentTarget})},s.handleClose=function(e){s.setState({anchorEl:null})},s.logOut=s.logOut.bind(Object(u.a)(s)),s.state={showAdminBoard:!1,showTeacherBoard:!1,currentUser:void 0,admin:["ROLE_ADMIN"],adminTeacher:["ROLE_ADMIN","ROLE_TEACHER"],allUsers:["ROLE_ADMIN","ROLE_TEACHER","ROLE_STUDENT"],studentAdmin:["ROLE_STUDENT","ROLE_ADMIN"]},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=O.getCurrentUser();e&&this.setState({currentUser:e,showAdminBoard:e.message.roles.includes("ROLE_ADMIN"),showTeacherBoard:e.message.roles.includes("ROLE_TEACHER"),navList:[e&&!e.message.roles.includes("ROLE_TEACHER")&&{title:"Utilisateur",link:"/user",icon:Object(y.jsx)(Jt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})},(e.message.roles.includes("ROLE_ADMIN")||e.message.roles.includes("ROLE_TEACHER"))&&{title:"Ajouter/Modifier un quiz",link:"/addQuiz",icon:Object(y.jsx)(Yt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})},(e.message.roles.includes("ROLE_ADMIN")||e.message.roles.includes("ROLE_TEACHER"))&&{title:"Page Questions",link:"/questions",icon:Object(y.jsx)(zt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})},(e.message.roles.includes("ROLE_ADMIN")||e.message.roles.includes("ROLE_TEACHER"))&&{title:"Page Reponses",link:"/answers",icon:Object(y.jsx)(yt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})},(e.message.roles.includes("ROLE_ADMIN")||e.message.roles.includes("ROLE_TEACHER"))&&{title:"Page Etudiants",link:"/students",icon:Object(y.jsx)(kt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})},e.message.roles.includes("ROLE_ADMIN")&&{title:"Tableau de bord administrateur",link:"/dashboard",icon:Object(y.jsx)(Mt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})}],actions:[e&&{title:e.message.firstname,link:"/profile",onclick:"",icon:Object(y.jsx)(Wt.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})},e&&{title:"Deconnexion",link:"/home",onclick:this.logOut,icon:Object(y.jsx)(Ht.a,{style:{color:"#4257b2",float:"right"},fontSize:"large"})}]})}},{key:"logOut",value:function(){if(O.logout(),this.setState({currentUser:void 0,showAdminBoard:!1,showTeacherBoard:!1}),!this.state.currentUser)return Object(y.jsx)(b.a,{to:"/home"})}},{key:"render",value:function(){var e=this.state,t=e.currentUser,n=e.admin,s=e.adminTeacher,i=e.allUsers,a=e.studentAdmin,o=e.navList;return Object(y.jsx)(st.a,{theme:Kt,children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("nav",{className:"navbar navbar-expand navbar-dark ",style:{background:"#4257b2"},children:[t&&Object(y.jsx)(Ut,{lists:o,actions:this.state.actions}),Object(y.jsx)(c.b,{to:"/",className:"navbar-brand",children:"Outsmarted"}),t?Object(y.jsx)("div",{className:"navbar-nav ml-auto",children:Object(y.jsxs)("li",{className:"nav-item",children:[Object(y.jsxs)(Ye.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleClick,color:"primary",children:[Object(y.jsx)(Wt.a,{style:{color:"white",float:"right"},fontSize:"large"}),t.message.firstname]}),Object(y.jsxs)(ke.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleClose,className:"menu-background",children:[Object(y.jsx)(Se.a,{style:{color:"#4257b2",fontWeight:"bold",fontFamily:"'Roboto', 'Poppins', sans-serif"},children:Object(y.jsx)(c.b,{to:"/profile",style:{textDecoration:"none",color:"#4257b2"},children:"Profile"})}),Object(y.jsx)(Se.a,{onClick:this.logOut,style:{color:"#4257b2",fontWeight:"bold",fontFamily:"'Roboto', 'Poppins', sans-serif"},children:"Deconnexion"})]})]})}):Object(y.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(c.b,{to:"/login",className:"nav-link",children:Object(y.jsx)(Ye.a,{color:"primary",style:{textTransform:"none"},children:"Se Connecter"})})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(c.b,{to:"/register",className:"nav-link",children:Object(y.jsx)(Ye.a,{color:"primary",style:{textTransform:"none",font:"Robotto"},children:"Cr\xe9er un Compte"})})})]})]}),Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)(b.d,{children:[Object(y.jsx)(b.b,{exact:!0,path:"/",component:M}),Object(y.jsx)(b.b,{exact:!0,path:"/home",component:M}),Object(y.jsx)(b.b,{exact:!0,path:"/login",component:w}),Object(y.jsx)(b.b,{exact:!0,path:"/register",component:U}),Object(y.jsx)(b.b,{exact:!0,path:"/verifyAccount/:token",component:pt}),Object(y.jsx)(b.b,{exact:!0,path:"/postSubmitForm",component:Ue}),Object(y.jsx)(at,{exact:!0,path:"/adminRegister",component:tt,role:n}),Object(y.jsx)(at,{exact:!0,path:"/profile",component:J,role:i}),Object(y.jsx)(at,{exact:!0,path:"/user",component:me,role:a}),Object(y.jsx)(at,{exact:!0,path:"/questions",component:Ke,role:s}),Object(y.jsx)(at,{exact:!0,path:"/answers",component:Ge,role:s}),Object(y.jsx)(at,{exact:!0,path:"/students",component:ht,role:i}),Object(y.jsx)(at,{exact:!0,path:"/addQuiz",component:Le,role:s}),Object(y.jsx)(at,{exact:!0,path:"/dashboard",component:_t,role:n}),Object(y.jsx)(at,{component:I})]})})]})})}}]),n}(s.Component),$t=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,497)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),s(e),i(e),a(e),o(e)}))};o.a.render(Object(y.jsx)(c.a,{children:Object(y.jsx)(Xt,{})}),document.getElementById("root")),$t()}},[[429,1,2]]]);
//# sourceMappingURL=main.cba75d51.chunk.js.map